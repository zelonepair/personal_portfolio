---
import { SITE_TITLE } from '../consts';
import HeaderLink from './HeaderLink.astro';

const rawBase = import.meta.env.BASE_URL || '/';
const homeHref = rawBase === '/' ? '/' : rawBase;
const navLinks = [
	{ label: 'Home', href: '/' },
	{ label: 'Blog', href: '/blog' },
	{ label: 'About', href: '/about' },
];
const socialLinks = [
	{
		label: 'GitHub',
		href: 'https://github.com/zelonepair',
		path: 'M8 0a8 8 0 0 0-2.53 15.6c.4.07.55-.17.55-.37v-1.3c-2.01.37-2.45-.98-2.45-.98-.36-.93-.88-1.18-.88-1.18-.72-.5.05-.49.05-.49.8.06 1.22.82 1.22.82.71 1.21 1.87.86 2.33.66.07-.52.28-.86.5-1.06-1.6-.18-3.28-.8-3.28-3.57 0-.79.28-1.44.74-1.94-.07-.19-.32-.95.07-1.98 0 0 .6-.2 1.97.74a6.74 6.74 0 0 1 3.58 0c1.37-.94 1.97-.74 1.97-.74.39 1.03.15 1.79.08 1.98.46.5.74 1.15.74 1.94 0 2.78-1.68 3.38-3.28 3.56.28.24.53.72.53 1.45v2.15c0 .21.15.45.55.37A8 8 0 0 0 8 0Z',
	},
	{
		label: 'LinkedIn',
		href: 'https://www.linkedin.com/in/huong-dau/',
		path: 'M3.16 6H.44v9.55h2.72zm.18-2.86A1.62 1.62 0 0 0 1.64 1.5 1.63 1.63 0 0 0 0 3.14a1.63 1.63 0 0 0 1.64 1.63h.02a1.63 1.63 0 0 0 1.68-1.64Zm4 2.86H4.64v9.55h2.67v-5.34c0-1.41.27-2.77 2.01-2.77 1.72 0 1.74 1.6 1.74 2.86v5.25h2.67V9.6c0-2.84-.6-5.63-3.95-5.63a3.46 3.46 0 0 0-3.14 1.73h-.04z',
	},
	{
		label: 'Email',
		href: 'mailto:jen@jendau.com',
		path: 'M1.5 3A1.5 1.5 0 0 0 0 4.5v7A1.5 1.5 0 0 0 1.5 13h13a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 14.5 3zm0 1h13c.09 0 .18.02.26.05L8 8.38 1.24 4.05c.08-.03.17-.05.26-.05Zm-.5 1.3 4.97 3.12L1 10.83Zm6.53 3.74.47.3.47-.3L16 5.3V11.5a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5Z',
	},
];
---

<header class="site-header">
	<nav>
			<a class="brand" href={homeHref}>
				<span class="eyebrow">Patent analytics + AI tooling</span>
			<span class="title">{SITE_TITLE}</span>
		</a>
		<div class="internal-links">
			{navLinks.map((link) => (
				<HeaderLink href={link.href}>{link.label}</HeaderLink>
			))}
		</div>
		<span class="availability">Open to patent agent roles</span>
		<div class="social-links" role="list">
			{socialLinks.map((link) => (
				<a href={link.href} aria-label={link.label} target="_blank" rel="noreferrer">
					<svg viewBox="0 0 16 16" aria-hidden="true" width="22" height="22">
						<path fill="currentColor" d={link.path} />
					</svg>
				</a>
			))}
		</div>
	</nav>
</header>
<style>
	.site-header {
		position: sticky;
		top: 0;
		z-index: 10;
		background: rgba(255, 255, 255, 0.9);
		backdrop-filter: blur(6px);
		border-bottom: 1px solid rgba(var(--gray-light), 0.6);
		box-shadow: 0 10px 30px rgba(15, 18, 25, 0.05);
	}
	nav {
		margin: 0 auto;
		max-width: 1100px;
		padding: 0.5rem 1.5rem;
		display: flex;
		gap: 1rem;
		align-items: center;
		justify-content: space-between;
	}
	.brand {
		text-decoration: none;
		color: rgb(var(--black));
		line-height: 1.2;
	}
	.brand .eyebrow {
		display: block;
		font-size: 0.7rem;
		letter-spacing: 0.2em;
		text-transform: uppercase;
		color: rgb(var(--gray));
	}
	.brand .title {
		font-weight: 600;
		font-size: 1rem;
	}
	.internal-links {
		display: flex;
		gap: 0.75rem;
		font-size: 0.95rem;
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}
		.social-links {
			display: flex;
			gap: 0.25rem;
		}
		.availability {
			font-size: 0.85rem;
			text-transform: uppercase;
			letter-spacing: 0.08em;
			color: rgb(var(--gray));
			padding: 0.35rem 0.75rem;
			border: 1px solid rgba(var(--gray-light), 0.8);
			border-radius: 999px;
		}
		.social-links a {
			color: rgb(var(--gray));
		padding: 0.25rem;
		border-radius: 100%;
	}
	.social-links a:hover,
	.social-links a:focus-visible {
		color: rgb(var(--black));
		background: rgba(var(--gray-light), 0.5);
	}
		@media (max-width: 720px) {
			nav {
				flex-direction: column;
				text-align: center;
			}
			.internal-links {
				flex-wrap: wrap;
				justify-content: center;
			}
			.availability {
				margin-top: 0.75rem;
			}
		}
</style>
